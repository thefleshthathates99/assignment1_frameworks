<div class="background">
<br>
<button (click)="logout()" class="logout_button">Logout</button>
<br>
<br>
<div class="container">
  <h2>Hello, {{displayName}}</h2>
  <br>
  <h3>Priviliges: {{userStatus}}</h3>
</div>
<br>
  <br>
  <br>

  <div class="container" *ngIf="this.userStatus=='super'">
    <h2>List of Registered Users</h2>
    <div *ngFor="let user of userArray">
      <div *ngIf="user.username==this.displayUsername; else elseBlock"></div>
      <ng-template #elseBlock>
          <h4>{{user.name}}</h4>
      </ng-template>
    </div> 
    <br>
    <button (click)="goToDelete()">Delete Users</button>
    <br>
    <br>
    <button (click)="goToAddEdit()">Add/Edit Users</button>
  </div>
  <br>
  <br>

  <div class="container">
    <h2>List of Groups and Channels</h2>
    <div *ngFor="let group of groupArray">
          <h2>Name: {{group.groupName}}</h2>
          <h3>Admin: {{group.groupAdmin}}</h3>
          <h3>Group Assists: </h3>
      <div *ngFor="let assists of group.groupAssists">
        {{assists}}
      </div> 
      <br>
      

      <br>
      <div class="withinContainer" *ngFor="let channels of group.groupChannels">
          <h3>Channel Name: {{channels.ChannelName}}</h3>
          <br>
          <h3>Channel Users: </h3>
          <div *ngFor="let members of channels.ChannelUsers">
              {{members}}
          </div>
          <br>
          <br>
          <div>
              <form>
                <div class="form-group">
                    <label for="messagecontent">New Message</label>
                    <input type="text" [(ngModel)]="messagecontent" name="messagecontent" id="messagecontent" class="form-control"/>
          
                </div>
                <div class="form-group">
                  <button (click)="chat(messagecontent)" class = "btn btn-primary">Chat</button>
                </div>
              </form>
              <h3>Chat Messages</h3>
              <div><!---Put channels.ChannelChat here-->
                  <ul>
                      <li *ngFor="let message of messages">{{message}}</li>
                      </ul>
              </div>

            </div>
            <br>
        </div>
        
    </div> 
    <br>
    <br>
    <button (click)="goToGroupEdit()" *ngIf="userStatus != 'user'">Add/Edit Groups</button>
    <br>
  </div>
</div>
